{"version":3,"sources":["theme.js","components/NavButton.js","components/Layout.js","components/NavMenu.js","components/MessageCreateButton.js","components/MessageFolders.js","views/Navigation.js","components/MessageList.js","actions.js","views/CategoryView.js","components/DialogConfirm.js","components/MessageSingle.js","views/MessageView.js","components/MessageCreateForm.js","views/MessageCreateView.js","views/Content.js","data.js","fakeApi.js","reducer.js","App.js","index.js"],"names":["createNewTheme","type","theme","createMuiTheme","palette","primary","brown","secondary","main","orange","contrastThreshold","responsiveFontSizes","lightTheme","darkTheme","NavButton","_ref","handleClick","react_default","a","createElement","IconButton","color","edge","onClick","Menu_default","Layout","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showingLeftPane","handleLeftPaneToggle","bind","assertThisInitialized","setState","_this$props","classes","width","leftPane","rightPane","toggleTheme","isLoading","leftPaneGrid","Grid","item","sm","className","mainPane","Paper","mainPaneContent","root","loaderContainer","CircularProgress","loader","AppBar","position","header","Container","container","Toolbar","Hidden","smUp","Typography","variant","component","logo","Link","href","underline","Button","Icon","Avatar","avatar","mainContainer","direction","justify","alignItems","mainGrid","xsDown","footer","React","Component","connect","withTheme","withStyles","display","flexDirection","minHeight","padding","spacing","backgroundColor","light","dark","flex","maxWidth","breakpoints","values","md","marginTop","marginBottom","height","margin","top","left","zIndex","withWidth","useStyles","makeStyles","content","paneItem","concat","NavMenu","children","map","child","index","key","buttonIcon","marginRight","buttonLabel","lineHeight","MessageCreateButton","Fab","aria-label","size","paddingLeft","paddingRight","MessageFolders","categories","onCategorySelect","Fragment","List","id","name","amount","ListItem","button","ListItemIcon","Badge","badgeContent","FolderOpen_default","ListItemText","Navigation","API","handleCategorySelect","handleMessageCreate","categoryId","history","replace","_this2","requests","cat","getMessagesByCategoryId","Promise","all","then","groupedMessages","assign","length","categoryData","updateCategoryData","prevProps","location","pathname","withRouter","useIconStyles","icon","typography","fontSize","verticalAlign","text","floatRight","float","fromToItem","DateItem","date","dateFormatted","Date","toLocaleString","FromToItem","_ref2","from","to","useTheme","matches","useMediaQuery","up","ArrowRightAlt_default","TitleItem","_ref3","title","categoryName","messages","onMessageSelect","_ref4","Divider","style","MessageList_FromToItem","MessageList_DateItem","MessageList_TitleItem","startLoading","stopLoading","CategoryView","updateData","match","params","getCategoryById","slicedToArray","category","handleMessageSelect","messageId","MessageList_default","undefined","actions","DialogConfirm","open","dialogTitle","dialogText","onConfirm","onCancel","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","MessageSingle","isDeleteConfirmOpen","isSpamConfirmOpen","handleDialogClose","handleConfirm","what","body","onMessageDelete","onMessageSpam","Tooltip","action","addressList","dense","disableGutters","ListItemAvatar","address","justifyContent","textAlign","MessageView","getMessageById","parseInt","msg","message","handleMessageDelete","handleMessageSpam","_this$props2","deleteMessageById","_this3","_this$props3","updateMessageCategory","_this4","components_MessageSingle","formContainer","form","border","borderRadius","formHeader","formRow","flexWrap","formRowLabel","fontWeight","formRowInput","formRowTextarea","fontFamily","resize","submitButton","cursor","&:hover","&:active","MessageCreateFormDumb","handleSubmit","handleInputChange","method","onSubmit","htmlFor","placeholder","onChange","_default","recepient","e","target","value","defineProperty","preventDefault","console","log","onMessageSend","MessageCreateForm_MessageCreateFormDumb","MessageCreateView","handleMessageSend","msgData","createNewMessage","MessageCreateForm_default","Content","contentProps","react_router","path","exact","render","views_CategoryView","views_MessageView","views_MessageCreateView","data","ApiService","mockData","getResponsePromise","result","resolve","reject","setTimeout","Math","random","msgList","filter","sort","b","dateA","_callee","regenerator_default","wrap","_context","prev","next","abrupt","sent","stop","_callee2","_context2","_callee3","_context3","find","_callee4","msgObj","_context4","max","apply","toConsumableArray","destination","toISOString","push","url","fetch","response","ok","Error","status","json","initialState","store","createStore","arguments","App","es","ThemeProvider","CssBaseline","react_router_dom","components_Layout","views_Navigation","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c05d2c98.chunk.js","sourcesContent":["import { \n  createMuiTheme,\n  responsiveFontSizes\n} from '@material-ui/core/styles'\nimport {\n  brown,\n  orange\n} from '@material-ui/core/colors'\n\n// Customized theme settings go here\nconst createNewTheme = (type) => {\n  let theme = createMuiTheme({\n    palette: {\n      type: type,\n      primary: brown,\n      secondary: {\n        main: orange[200]\n      },\n      contrastThreshold:2\n    },\n  })\n  theme = responsiveFontSizes(theme)\n  return theme\n}\n\nconst lightTheme = createNewTheme(\"light\")\nconst darkTheme = createNewTheme(\"dark\")\nexport { lightTheme, darkTheme }","import React from 'react'\nimport {\n  IconButton\n} from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu'\n\n\nexport default ({handleClick}) => {\n  return (\n    <IconButton\n      color=\"inherit\"\n      edge=\"start\"\n      onClick={handleClick}\n    >\n      <MenuIcon />\n    </IconButton>\n  )\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport {withStyles, withTheme} from '@material-ui/styles'\nimport withWidth from '@material-ui/core/withWidth'\nimport {\n  AppBar,\n  Container,\n  Grid,\n  Paper,\n  Hidden,\n  Toolbar,\n  Typography,\n  Link,\n  Avatar,\n  Icon,\n  Button,\n  CircularProgress\n} from '@material-ui/core'\nimport NavButton from './NavButton'\n\n\nconst useStyles = theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n  footer: {\n    padding: theme.spacing(1)\n  },\n  header: {\n    backgroundColor: (\n      theme.palette.type === \"light\" \n      ? theme.palette.primary.light\n      : theme.palette.primary.dark\n    ),\n    padding: theme.spacing(1)\n  },\n  logo: {\n    flex: 1\n  },\n  container: {\n    maxWidth: theme.breakpoints.values.md,\n    padding: 0\n  },\n  mainContainer: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    padding: 0,\n    flex: 1,\n    maxWidth: theme.breakpoints.values.md\n  },\n  mainGrid: {\n    height: \"100%\"\n  },\n  mainPane: {\n    padding: theme.spacing(1),\n    width: \"100%\"\n  },\n  mainPaneContent: {\n    padding: theme.spacing(1),\n    height: \"100%\"\n  },\n  avatar: {\n    margin: theme.spacing(1)\n  },\n  loaderContainer: {\n    backgroundColor: \"RGBA(0,0,0,0.5)\",\n    width: \"100%\",\n    height: \"100%\",\n    top: 0,\n    left: 0,\n    position: \"fixed\",\n    zIndex: 100000\n  },\n  loader: {\n    position: \"fixed\",\n    top: \"45%\",\n    left: \"45%\"\n  }\n});\n\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showingLeftPane: false\n    }\n    this.handleLeftPaneToggle = this.handleLeftPaneToggle.bind(this)\n  }\n\n  handleLeftPaneToggle() {\n    this.setState(\n      (state, props) => ({showingLeftPane: !state.showingLeftPane})\n    )\n  }\n  \n  render () {\n    const {\n      classes,\n      width,\n      theme,\n      leftPane, \n      rightPane,\n      toggleTheme,\n      isLoading\n    } = this.props\n    \n    let leftPaneGrid = (\n      <Grid item sm={4} className={classes.mainPane}>\n        <Paper className={classes.mainPaneContent}>\n          { leftPane }\n        </Paper>\n      </Grid>\n    )\n\n    return (\n      <div className={classes.root}>\n        {\n          isLoading\n          ? <div className={classes.loaderContainer}>\n              <CircularProgress className={classes.loader} />\n            </div>\n          : null\n        }\n        <AppBar position=\"static\" className={classes.header}>\n          <Container className={classes.container}>\n            <Toolbar>\n              <Hidden smUp>\n                <NavButton\n                  handleClick={this.handleLeftPaneToggle}\n                />\n              </Hidden>\n              <Typography \n                variant={width === \"xs\" ? \"h4\" : \"h3\"} \n                component=\"h1\" \n                className={classes.logo}\n              >\n                <Link color=\"inherit\" href=\"\" underline=\"none\">\n                  MUI MailBox\n                </Link>\n              </Typography>\n              <Button onClick={toggleTheme}>\n                <Icon>invert_colors</Icon>\n              </Button>\n              <Avatar className={classes.avatar}>\n                <Icon>person</Icon>\n              </Avatar>\n            </Toolbar>\n          </Container>\n        </AppBar>\n\n        <Container className={classes.mainContainer}>\n          <Grid \n            container \n            direction=\"row\"\n            justify=\"center\"\n            alignItems=\"stretch\"\n            className={classes.mainGrid}\n          >\n            { this.state.showingLeftPane \n            ? <Hidden smUp>\n              { leftPaneGrid }\n            </Hidden>\n            : null}\n            <Hidden xsDown>\n              { leftPaneGrid }\n            </Hidden>\n            <Grid item sm={8} className={classes.mainPane}>\n              <Paper className={classes.mainPaneContent}>\n                { rightPane }\n              </Paper>\n            </Grid>\n          </Grid> \n        </Container>\n\n        <footer className={classes.footer}>\n          <Container className={classes.container}>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              &copy; 2019. Created by PyVlad React Professionals using\n              &nbsp;\n                <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                  Material-UI\n                </Link>\n              &nbsp;\n              components.\n            </Typography>\n          </Container>\n        </footer>\n      </div>\n    )\n  }\n}\n\nexport default connect((state) => ({isLoading: state.isLoading}) )(\n  withTheme(withStyles(useStyles)(withWidth()(Layout))))","import React from 'react'\nimport {makeStyles} from '@material-ui/styles'\n\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  paneItem: {\n    margin: `${theme.spacing(2)}px 0`\n  }\n}));\n\n\nexport default (props) => {\n  const classes = useStyles()\n\n  return <div className={classes.content}>\n    {props.children.map(\n      (child, index) => <div \n        className={classes.paneItem}\n        key={index}\n      >\n        {child}\n      </div>\n    )}\n  </div>\n}\n","import React from 'react'\nimport {makeStyles} from '@material-ui/styles'\nimport {\n  Fab, \n  Icon,\n  Typography\n } from '@material-ui/core'\n\n\n const useStyles = makeStyles(theme => ({\n  buttonIcon: {\n    marginRight: theme.spacing(1)\n  },\n  buttonLabel: {\n    lineHeight: 1\n  }\n}));\n\n\nexport default ({handleClick}) => {\n  const classes = useStyles()\n\n  return <Fab \n    variant=\"extended\"\n    color=\"secondary\" \n    aria-label=\"edit\" \n    size=\"medium\"\n    onClick={handleClick}\n  >\n    <Icon className={classes.buttonIcon}>edit_icon</Icon>\n    <Typography variant=\"body1\" className={classes.buttonLabel}>\n      New Message\n    </Typography>\n  </Fab>\n}","import React from 'react'\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Badge\n} from '@material-ui/core'\nimport FolderIcon from '@material-ui/icons/FolderOpen'\nimport {makeStyles} from '@material-ui/styles'\n\n\nconst useStyles = makeStyles(theme => ({\n  header: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  }\n}));\n\n\nexport default (props) => {\n  const classes = useStyles()\n\n  // destructure props for clearer code\n  const {\n    categories,\n    onCategorySelect\n  } = props\n\n  // return component tree\n  return (\n    <React.Fragment>\n      <Typography variant=\"h4\" component=\"h2\" className={classes.header}>\n        Categories\n      </Typography>\n      <List component=\"nav\" aria-label=\"main mailbox folders\">\n        {\n          categories.map(\n            ({id, name, amount}) => (\n              <ListItem \n                button \n                key={id} \n                onClick={() => onCategorySelect(id)}\n              >\n                <ListItemIcon>\n                  <Badge color=\"secondary\" badgeContent={amount}>\n                    <FolderIcon />\n                  </Badge>\n                </ListItemIcon>\n                <ListItemText primary={name} />\n              </ListItem>\n            )\n          )\n        }\n      </List>\n    </React.Fragment>\n  )\n}\n","import React from 'react'\nimport {withRouter} from 'react-router-dom'\n\nimport NavMenu from '../components/NavMenu'\nimport MessageCreateButton from '../components/MessageCreateButton'\nimport MessageFolders from '../components/MessageFolders'\n\n\nclass Navigation extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.API = this.props.API\n    this.state = {\n      categories: this.API.categories\n    }\n\n    this.handleCategorySelect = this.handleCategorySelect.bind(this)\n    this.handleMessageCreate = this.handleMessageCreate.bind(this)\n  }\n\n  handleCategorySelect(categoryId) {\n    this.props.history.replace(`/category/${categoryId}`)\n  }\n\n  handleMessageCreate() {\n    this.props.history.replace(`/create`)\n  }\n\n  updateCategoryData() {\n    let requests = this.API.categories.map(\n      (cat) => this.API.getMessagesByCategoryId(cat.id)\n    )\n    Promise\n      .all(requests)\n      .then((groupedMessages) => {\n        return this.API.categories.map(\n          (cat, index) => Object.assign(cat, {amount: groupedMessages[index].length})\n        )\n      })\n      .then((categoryData) => this.setState({\n        categories: categoryData\n      }))\n  }\n\n  componentDidMount() {\n    this.updateCategoryData()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.updateCategoryData()\n    }\n  }\n\n  render() {\n    return (\n      <NavMenu>\n        <MessageCreateButton \n          handleClick={this.handleMessageCreate}\n        />\n        <MessageFolders \n          categories={this.state.categories}\n          onCategorySelect={this.handleCategorySelect}\n        />\n      </NavMenu>\n    )\n  }\n}\n\nexport default withRouter(Navigation)","import React from 'react'\nimport {\n  Typography,\n  Divider,\n  List,\n  ListItem\n} from '@material-ui/core'\nimport ArrowIcon from '@material-ui/icons/ArrowRightAlt'\nimport {makeStyles} from '@material-ui/styles'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\n\nconst useIconStyles = makeStyles(theme => ({\n  icon: {\n    height: 2 * theme.typography.fontSize,\n    width: 2 * theme.typography.fontSize,\n    verticalAlign: \"middle\",\n    color: theme.palette.text.secondary\n  },\n  floatRight: {\n    float: \"right\"\n  },\n  fromToItem: {\n    lineHeight: 0\n  }\n}));\n\n\nconst DateItem = ({date}) => {\n  const dateFormatted = (new Date(date)).toLocaleString()\n  return (\n    <Typography variant=\"overline\" color=\"textPrimary\">\n      {dateFormatted}\n    </Typography>\n  )\n}\n\nconst FromToItem = ({from, to}) => {\n  const classes = useIconStyles()\n  const theme = useTheme()\n  const matches = useMediaQuery(theme.breakpoints.up('md'))\n\n  return (\n    <div className={matches ? classes.floatRight : null}>\n      <Typography \n        color=\"textSecondary\" \n        variant=\"overline\" \n        component=\"span\"\n        className={classes.fromToItem}\n      >\n        {from.name} <ArrowIcon className={classes.icon} /> {to.name}\n      </Typography>\n    </div>\n  )\n}\n\nconst TitleItem = ({title}) => (\n  <Typography variant=\"body1\" >\n    {title}\n  </Typography>\n)\n\n\nexport default class extends React.Component {\n  render () {\n    let {categoryName, messages, onMessageSelect} = this.props\n    return (\n      <React.Fragment>\n        <Typography variant=\"h4\" component=\"h2\">\n          {categoryName}\n        </Typography>\n        <List>\n        {\n          (messages.length)\n          ? messages.map(\n              ({id, date, from, to, title}, index) => (\n                <React.Fragment key={id}>\n                  { index ? null : <Divider /> }\n                  <ListItem  \n                    button \n                    onClick={() => onMessageSelect(id)}\n                  >\n                    <div style={{width: \"100%\"}}>\n                      <FromToItem from={from} to={to} />\n                      <DateItem date={date} />\n                      <TitleItem title={title} />\n                    </div>\n                  </ListItem>\n                  <Divider />\n                </React.Fragment>\n              )\n            )\n          : <Typography variant=\"body1\">No items in this category.</Typography>\n        }\n        </List>\n      </React.Fragment>\n    )\n  }\n}","export const startLoading = () => ({ type: \"START_LOADING\" })\nexport const stopLoading = () => ({ type: \"STOP_LOADING\" })","import React from 'react'\nimport MessageList from '../components/MessageList'\nimport { connect } from 'react-redux'\nimport * as actions from '../actions'\n\n\nclass CategoryView extends React.Component {\n  constructor(props) {\n    super(props)\n    this.API = this.props.API\n    this.state = {\n      category: null,\n      messages: null\n    }\n    this.handleMessageSelect = this.handleMessageSelect.bind(this)\n  }\n\n  updateData = () => {\n    const { match, startLoading, stopLoading } = this.props\n    const categoryId = match.params.id\n\n    startLoading()\n    let promise = Promise.all([\n      this.API.getCategoryById(categoryId),\n      this.API.getMessagesByCategoryId(categoryId)\n    ])\n    promise\n      .then(([category, messages]) => this.setState({\n        category: category,\n        messages: messages\n    }))\n      .then(() => stopLoading())\n  }\n\n  componentDidMount() {\n    this.updateData()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.updateData()\n    }\n  }\n\n  handleMessageSelect(messageId) {\n    this.props.history.replace(`/message/${messageId}`)\n  }\n\n  render() {\n    return (this.state.category !== null && this.state.messages !== null)\n      ? <MessageList \n        categoryName={this.state.category.name}\n        messages={this.state.messages}\n        onMessageSelect={this.handleMessageSelect}\n      />\n      : null\n  }\n}\n\n\nexport default connect(undefined, actions)(CategoryView)\n","import React from 'react'\nimport {\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  DialogContentText,\n  DialogContent\n} from '@material-ui/core'\n\nexport default ({\n  open,\n  dialogTitle,\n  dialogText,\n  onConfirm,\n  onCancel\n}) => (\n  <Dialog \n    open={open}\n    onClose={onCancel} \n    aria-labelledby=\"simple-dialog-title\" \n  >\n    <DialogTitle id=\"simple-dialog-title\">{dialogTitle}</DialogTitle>\n    <DialogContent>\n      <DialogContentText id=\"alert-dialog-description\">\n        {dialogText}\n      </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n      <Button onClick={onCancel} color=\"primary\">\n        No\n      </Button>\n      <Button onClick={onConfirm} color=\"primary\" autoFocus>\n        Yes\n      </Button>\n    </DialogActions>\n  </Dialog>\n)","import React from 'react'\nimport {withStyles} from '@material-ui/styles'\n\nimport {\n  Icon, \n  IconButton,\n  Typography,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Avatar,\n  Divider,\n  Tooltip\n} from '@material-ui/core'\nimport DialogConfirm from './DialogConfirm'\n\n\nconst useStyles = theme => ({\n  container: {\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  actions: {\n    textAlign: \"right\"\n  },\n  action: {\n    color: \"#f55\"\n  },\n  title: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  },\n  direction: {\n    color: theme.palette.primary[theme.palette.type]\n  }\n})\n\n\nclass MessageSingle extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isDeleteConfirmOpen: false,\n      isSpamConfirmOpen: false\n    }\n    this.handleDialogClose = this.handleDialogClose.bind(this)\n    this.handleConfirm = this.handleConfirm.bind(this)\n  }\n\n  handleConfirm(what) {\n    if (what === \"spam\") {\n      this.setState({isSpamConfirmOpen: true})\n    }\n    else if (what === \"delete\") {\n      this.setState({isDeleteConfirmOpen: true})\n    }\n  }\n\n  handleDialogClose() {\n    this.setState({\n      isDeleteConfirmOpen: false,\n      isSpamConfirmOpen: false\n    })\n  }\n\n  render() {\n    const {\n      classes,\n      from,\n      to,\n      date,\n      title,\n      body,\n      onMessageDelete,\n      onMessageSpam\n    } = this.props\n\n    return (\n      <article className={classes.container}>\n        <header className={classes.header}>\n          <div className={classes.date}>\n            <Typography variant=\"caption\">\n              {(new Date(date)).toLocaleString()}\n            </Typography>\n          </div>\n          <div className={classes.actions}>\n            <DialogConfirm \n              open={this.state.isDeleteConfirmOpen}\n              dialogTitle=\"Confirm Delete\"\n              dialogText=\"Are you sure you want to delete this message?\"\n              onConfirm={onMessageDelete}\n              onCancel={this.handleDialogClose}\n            />\n            <Tooltip title=\"delete\">\n              <IconButton className={classes.action} onClick={() => this.handleConfirm(\"delete\")}>\n                <Icon>delete</Icon>\n              </IconButton>\n            </Tooltip>\n            <DialogConfirm \n              open={this.state.isSpamConfirmOpen}\n              dialogTitle=\"Confirm as Spam\"\n              dialogText=\"Are you sure you want to mark this message as spam?\"\n              onConfirm={onMessageSpam}\n              onCancel={this.handleDialogClose}\n            />\n            <Tooltip title=\"mark as spam\">\n              <IconButton className={classes.action} onClick={() => this.handleConfirm(\"spam\")}>\n                <Icon>not_interested</Icon>\n              </IconButton>\n            </Tooltip>\n          </div>\n        </header>\n        <List className={classes.addressList}>\n          <ListItem dense disableGutters>\n            <ListItemAvatar>\n              <Avatar>\n                <Icon>image</Icon>\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText primary={from.name} secondary={from.address} />\n          </ListItem>\n          <Divider variant=\"inset\" component=\"li\" />\n          <ListItem dense disableGutters>\n            <ListItemAvatar>\n              <Avatar>\n                <Icon>image</Icon>\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText primary={to.name} secondary={to.address} />\n          </ListItem>\n          <Divider variant=\"inset\" component=\"li\" />\n        </List>\n        <Typography variant=\"h4\" component=\"h2\" className={classes.title}>{title}</Typography>\n        <section className={classes.body}>\n          <Typography variant=\"body1\">\n            {body}\n          </Typography>\n        </section>\n      </article>\n    )\n  }\n}\n  \nexport default withStyles(useStyles)(MessageSingle)\n","import React from 'react'\nimport MessageSingle from '../components/MessageSingle'\nimport { connect } from 'react-redux'\nimport * as actions from '../actions'\n\n\nclass MessageView extends React.Component {\n  constructor(props) {\n    super(props)\n    this.API = this.props.API\n    this.state = {\n      message: null\n    }\n    this.handleMessageDelete = this.handleMessageDelete.bind(this)\n    this.handleMessageSpam = this.handleMessageSpam.bind(this)\n  }\n\n  updateData = () => {\n    const { match, startLoading, stopLoading } = this.props\n\n    startLoading()\n    this.API.getMessageById(parseInt(match.params.id))\n      .then((msg) => {\n        this.setState({\n          message: msg\n        })\n      })\n      .then(() => stopLoading())\n  }\n\n  componentDidMount() {\n    this.updateData()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.updateData()\n    }\n  }\n\n  handleMessageDelete(messageId) {\n    const { startLoading, stopLoading } = this.props\n\n    startLoading()\n    this.API.deleteMessageById(messageId)\n      .then(() => stopLoading())\n      .then(() => this.props.history.replace('/category/all'))\n  }\n\n  handleMessageSpam(messageId) {\n    const { startLoading, stopLoading } = this.props\n\n    startLoading()\n    this.API.updateMessageCategory(messageId, \"spam\")\n      .then(() => stopLoading())\n      .then(() => this.props.history.replace('/category/all'))\n  }\n\n  render() {\n    return this.state.message !== null\n    ? <MessageSingle \n        {...this.state.message}\n        onMessageDelete={() => this.handleMessageDelete(parseInt(this.props.match.params.id))}\n        onMessageSpam={() => this.handleMessageSpam(parseInt(this.props.match.params.id))}\n      />\n    : null\n  }\n}\n\nexport default connect(undefined, actions)(MessageView)","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n  formContainer: {\n    width: \"100%\",\n    padding: 10,\n    backgroundColor: '#fff'\n  },\n  form: {\n    backgroundColor: \"#F6F7F8\",\n    border: \"1px solid #D6D9DC\",\n    borderRadius: \"3px\",\n    padding: \"10px\"\n  },\n  formHeader: {\n    textAlign: \"center\",\n    marginBottom: \"20px\"\n  },\n  formRow: {\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n    flexDirection: \"column\",\n    flexWrap: \"wrap\",\n    marginBottom: \"10px\"\n  },\n  formRowLabel: {\n    fontSize: \"16px\",\n    lineHeight: 1.3,\n    fontWeight: \"bold\",\n    padding: \"5px 3px\"\n  },\n  formRowInput: {\n    border: \"1px solid #D6D9DC\",\n    borderRadius: \"3px\",\n    fontSize: \"14px\",\n    padding: \"7px\"\n  },\n  formRowTextarea: {\n    fontFamily: \"Helvetica\", //\"Arial\", sans-serif,\n    fontSize: \"14px\",\n\n    border: \"1px solid #D6D9DC\",\n    borderRadius: \"3px\",\n    resize: \"none\",\n\n    height: \"150px\",\n    marginBottom: \"10px\",\n    padding: \"7px\"\n  },\n  submitButton: {\n    fontSize: \"16px\",\n    fontWeight: \"bold\",\n\n    color: \"#FFFFFF\",\n    backgroundColor: \"#5995DA\",\n\n    border: \"none\",\n    borderRadius: \"3px\",\n\n    padding: \"10px 40px\",\n    cursor: \"pointer\",\n\n    '&:hover': {\n      backgroundColor: \"#76AEED\",\n    },\n    '&:active': {\n      backgroundColor: \"#407FC7\",\n    }\n  }\n\n}));\n\n\nconst MessageCreateFormDumb = (props) => {\n  const {\n    handleSubmit,\n    handleInputChange\n  } = props\n  const classes = useStyles()\n\n  return (\n    <div className={classes.formContainer}>\n      <form action='' method='get' className={classes.form} onSubmit={handleSubmit}>\n        <header className={classes.formHeader}>\n          <h1>New Message</h1>\n        </header>\n        <div className={classes.formRow}>\n          <label \n            htmlFor='new-msg-destination'\n            className={classes.formRowLabel}\n          >\n            Recepient Email\n          </label>\n          <input \n            type='email' \n            id='new-msg-destination' \n            name='destination' \n            placeholder='bob@example.com' \n            onChange={handleInputChange}\n            className={classes.formRowInput}\n          />\n        </div>\n        <div className={classes.formRow}>\n          <label \n            htmlFor='new-msg-title'\n            className={classes.formRowLabel}\n          >\n            Message Title\n          </label>\n          <input \n            type='text' \n            id='new-msg-title' \n            name='title' \n            onChange={handleInputChange}\n            className={classes.formRowInput}\n          />\n        </div>\n        <div className={classes.formRow}>\n          <label \n            htmlFor='new-msg-body'\n            className={classes.formRowLabel}\n          >\n            Message Body\n          </label>\n          <textarea \n            id='new-msg-body' \n            name='body' \n            onChange={handleInputChange}\n            className={classes.formRowTextarea}\n          />\n        </div>\n        <div className={classes.formRow}>\n          <button className={classes.submitButton}>Send</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      recepient: '',\n      title: '',\n      body: ''\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleInputChange(e) {\n    const target = e.target\n    const value = target.value\n    const name = target.name\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    console.log(this.state)\n    this.props.onMessageSend(this.state)\n  }\n\n  render() {\n    return <MessageCreateFormDumb\n      handleSubmit={this.handleSubmit}\n      handleInputChange={this.handleInputChange}\n    />\n  }\n}\n\n","import React from 'react'\nimport MessageCreateForm from '../components/MessageCreateForm'\nimport { connect } from 'react-redux'\nimport * as actions from '../actions'\n\n\nclass MessageCreateView extends React.Component {\n  constructor(props) {\n    super(props)\n    this.API = this.props.API\n    this.handleMessageSend = this.handleMessageSend.bind(this)\n  }\n\n  handleMessageSend(msgData) {\n    const { startLoading, stopLoading } = this.props\n\n    startLoading()\n    this.API.createNewMessage(msgData)\n      .then(() => stopLoading())\n      .then(() => this.props.history.replace('/category/all'))\n  }\n\n  render() {\n    return <MessageCreateForm \n      onMessageSend={this.handleMessageSend} \n    />\n  }\n}\n\nexport default connect(undefined, actions)(MessageCreateView)","import React from 'react'\nimport {Switch, Route, Redirect} from 'react-router-dom'\n\nimport CategoryView from './CategoryView'\nimport MessageView from './MessageView'\nimport MessageCreateView from './MessageCreateView'\n\n\nexport default (contentProps) => {\n  return (\n    <Switch>\n      <Route path=\"/\" exact \n        render={(props) => <Redirect to='/category/all'/>} />}\n      />\n      <Route path=\"/category/:id\" \n        render={(props) => <CategoryView {...props} {...contentProps} />}\n      />\n      <Route path=\"/message/:id\" \n        render={(props) => <MessageView {...props} {...contentProps} />}\n      />\n      <Route path=\"/create\" \n        render={(props) => <MessageCreateView {...props} {...contentProps} />}\n      />\n      <Route render={()=>(<div>404 NOT FOUND</div>)}/>\n    </Switch>\n  )\n}","const categories = [\n  {\n    id: \"inbox\",\n    name: \"Inbox\"\n  },\n  {\n    id: \"sent\",\n    name: \"Sent\"\n  },\n  {\n    id: \"spam\",\n    name: \"Spam\"\n  }\n]\n\nconst messages = [\n  {\n    id: 1,\n    from: {\n      name: \"React Programmer\",\n      address: \"react.programmer@example.com\"\n    },\n    to: {\n      name: \"World\",\n      address: \"world@example.com\"\n    },\n    categoryId: \"sent\",\n    date: \"2019-01-01T00:00:01Z\",\n    title: \"Hello, React World!\",\n    body: \"Hey! How are you doing? Yours truely.\"\n  },\n  {\n    id: 2,\n    from: {\n      name: \"Stan Smith\",\n      address: \"stan.smith@example.com\"\n    },\n    to: {\n      name: \"Slim Eminem\",\n      address: \"slim.eminem@example.com\"\n    },\n    categoryId: \"inbox\",\n    date: \"2019-01-01T00:00:02Z\",\n    title: \"Hey, Slim!\",\n    body: `Dear Slim, I wrote you, but you still ain't callin'.\nI left my cell, my pager, and my home phone at the bottom.\nI sent two letters back in autumn; you must not-a got 'em.\nThere probably was a problem at the post office or somethin'.\nSometimes, I scribble addresses too sloppy when I jot 'em,\nBut anyways, F- it. What's been up, man? How's you're daughter?\nMy girlfriend's pregnant, too, I'm about to be a father.\nIf I have a daughter, guess what I'ma call her?\nI'ma name her Bonnie.\nI read about your Uncle Ronnie, too. I'm sorry.\nI had a friend kill himself over some chick who didn't want him.\nI know you probably hear this everyday, but I'm your biggest fan.\nI even got the underground stuff you did with Scam.\nI got a room full of your posters and your pictures, man.\nI like the stuff you did with Ruckus, too. That guy was fat.\nAnyways, I hope you get this, man. Hit me back, just to chat.\nTruly yours, your biggest fan.\nThis is Stan.`\n  },\n  {\n    id: 3,\n    from: {\n      name: \"Stan Smith\",\n      address: \"john.smith@example.com\"\n    },\n    to: {\n      name: \"Slim Eminem\",\n      address: \"slim.eminem@example.com\"\n    },\n    categoryId: \"inbox\",\n    date: \"2019-03-01T00:00:01Z\",\n    title: \"Hey Slim! Why no answer?\",\n    body: `Dear Slim, you still ain't called or wrote. I hope you get a chance.\nI ain't mad. I just think it's SCREWED UP that you don't answer fans.\nIf you didn't wanna talk to me outside your concert you didn't have to, but you coulda signed an autograph for Matthew.\nHe's my little brother, man. He's only six years old.\nWe waited in the blistering cold for you.\n4 hours and you just said \"No\".\nThat's pretty crummy, man. You're like his favorite idol.\nHe wants to be just like you, man. He likes you more than I do.\nI ain't that mad, though. I just don't like being lied to.\nRemember when we met back in Denver, you said if I write you\nYou'd write back. See, I'm just like you in a way.\nI never knew my father, neither.\nHe used to always cheat on my mom and beat her.\nI can relate to what you're saying in your songs,\nSo when I have a crummy day, I drift away and put 'em on\n'Cause I don't really got nothin' else\nSo that stuff helps when I'm depressed.\nI even got a tattoo of your name across the chest.\nSometimes I even cut myself to see how much it bleeds.\nIt's like adrenaline. The pain is such a sudden rush for me.\nSee, everything you say is real, and I respect it cause you tell it.\nMy girlfriend's jealous 'cause I talk about you 24/7,\nBut she don't know you like I know you, Slim. No one does.\nShe don't know what it was like for people like us growin' up.\nYou gotta call me, man. I'll be the biggest fan you'll ever lose.\nSincerely yours, Stan`\n  },\n  {\n    id: 4,\n    from: {\n      name: \"Stan Smith\",\n      address: \"stan.smith@example.com\"\n    },\n    to: {\n      name: \"Slim Eminem\",\n      address: \"slim.eminem@example.com\"\n    },\n    categoryId: \"inbox\",\n    date: \"2019-06-01T00:00:01Z\",\n    title: \"Goodbye Mr I'm-Too-Good-To-Call-Or-Write-My-Fans!\",\n    body: `Dear Mr I'm-Too-Good-To-Call-Or-Write-My-Fans,\nThis'll be the last package I ever send your @$$.\nIt's been six months and still no word. I don't deserve it?\nI know you got my last two letters.\nI wrote the addresses on 'em perfect.\nSo this is my cassette I'm sending you. I hope you hear it.\nI'm in the car right now. I'm doing 90 on the freeway.\nHey Slim, I drank a fifth of vodka. You dare me to drive?\nYou know that song by Phil Collins, \"In the Air of the Night\"\nAbout that guy that coulda saved that other guy from drowning,\nBut didn't, then Phil saw it all, then later at a show he found 'em? That's kinda how this is. You coulda saved me from drowning.\nNow it's too late, I'm on a thousand downers, now. I'm drowsy' and all I wanted was a lousy\nLetter or a call.\nI hope you know I ripped ALL you're pictures off the wall.\nI love you, Slim. We coulda been together; think about it.\nYou've ruined it, now. I hope you can't sleep and you dream about it\nAnd when you dream, I hope you can't sleep and you SCREAM about it.\nI hope you're conscience EATS at you and you can't BREATHE without me!\nSee Slim,(backround screaming) Shut up, slut! I'm tryin' to talk!\nHey Slim, that's my girlfriend screamin' in the trunk,\nBut I didn't slit her throat. I just tied her up. \nSee I ain't like you 'cause if she suffocates she'll suffer more, then she'll die too.\nWell, gotta go. I'm almost at the bridge, now.\nOh shoot, I forgot. How'm I supposed to send this tape out?!\n`\n  },\n  {\n    id: 5,\n    from: {\n      name: \"Slim Eminem\",\n      address: \"slim.eminem@example.com\"\n    },\n    to: {\n      name: \"Stan Smith\",\n      address: \"stan.smith@example.com\"\n    },\n    categoryId: \"sent\",\n    date: \"2019-06-02T00:00:01Z\",\n    title: \"Hey, Stan!\",\n    body: `Dear Stan, I meant to write you sooner, but I just been busy\nYou said you're girlfriend's pregnant, now. How far along is she?\nLook, I'm really flattered you'd call you're daughter that.\nAnd here's an autograph for Matthew. I wrote it on the Starter cap.\nI'm sorry I didn't see you at the show. I musta missed you.\nDon't think I did that stuff intenionally just to diss you.\nBut what's this you said about you like to cut you're wrists, too?\nI say that stuff just clownin', dogg. C'mon, how messed up is you?\nYou got some issues, Stan. I think you need some councelin'\nTo help your butt from bouncin' off the walls when you get down some.\nAnd what's this about us meant to be together?\nThat type of junk will make me not want us to meet each other.\nI really think you and your girlfriend need each other\nOr maybe you just need to treat her better.\nI hope you get to read this letter. I just hope it reaches you in time before you hurt yourself. I think you'll be doin' just fine\nIf you relax a little. I'm glad I inspire you, but Stan,\nWhy are you so mad? Try to understand that I do want you as a fan.\nI just don't want you to do some crazy stuff.\nI saw this one thing on the news a couple weeks ago that made me sick.\nSome dude was drunk and drove his car over a bridge and had his girlfriend in the trunk, and she was pregnant with his kid.\nAnd in the car they found a tape, but they didn't say who it was to.\nCome to think about it. His name was... It was you.\nDAMN!`\n  },\n]\n\nexport default { categories, messages }","/* \nClass to incapsulate all network code.\nAsynchronous data source for app components.\n\nUses class properties stage 3 proposal \n(need @babel/plugin-proposal-class-properties for this to work).\n*/\nimport mockData from './data'\n\n\nclass ApiService {\n  // class properties syntax\n  categories = mockData.categories // categories aren't supposed to change\n  messages = mockData.messages     // imitate DB store\n\n  getResponsePromise = (result) => {\n    return new Promise(\n      function(resolve, reject) {\n        setTimeout(() => resolve(result), 1000 * Math.random())\n      }\n    )\n  }\n\n  /* method to consume JSON resources (don't need this in fake API) */\n  async getResource(url) {\n    const response = await fetch(url)\n    if (!response.ok) {\n      throw new Error(`fetch failed for ${url} (status: ${response.status})`)\n    }\n    return await response.json()\n  }\n  \n  // FAKE BACKEND API\n  getMessagesByCategoryId = (categoryId) => {\n    console.log(\"getting messages by category Id\", categoryId)\n    let msgList = this.messages\n    if (categoryId !== \"all\") {\n      msgList = this.messages.filter(msg => msg.categoryId === categoryId)\n    }\n    msgList.sort(function(a, b) {\n      let dateA = new Date(a.date), \n          dateB = new Date(b.date);\n      return dateB - dateA;\n    })\n    return this.getResponsePromise(msgList)\n  }\n\n  getMessageById = (messageId) => {\n    console.log(\"getting message\", messageId)\n    return this.getResponsePromise(\n      this.messages.filter((msg) => (msg.id === messageId))[0]\n    )\n  }\n\n  getCategoryById = async (categoryId) => {\n    console.log(\"getting category\", categoryId)\n    let category = (categoryId === \"all\") \n      ? {\n          id: \"all\",\n          name: \"All Messages\"\n        }\n      : this.categories.filter((cat) => (cat.id === categoryId))[0]\n    return await this.getResponsePromise(category)\n  }\n\n  deleteMessageById = async (messageId) => {\n    console.log(\"deleting message\")\n    this.messages = this.messages.filter((msg) => (msg.id !== messageId))\n    return await this.getResponsePromise(null)\n  }\n\n  updateMessageCategory = async (messageId, categoryId) => {\n    console.log(\"updating message category\")\n    const msgObj = this.messages.find((msg) => (msg.id === messageId))\n    msgObj[\"categoryId\"] = categoryId\n    return await this.getResponsePromise(null)\n  }\n\n  createNewMessage = async (msgData) => {\n    console.log(\"creating new message\")\n    const msgObj = {\n      id: Math.max(...this.messages.map((item)=>item.id)) + 1,\n      from: {\n        name: \"React Programmer\",\n        address: \"react.programmer@example.com\"\n      },\n      to: {\n        name: \"Unknown\",\n        address: msgData.destination\n      },\n      categoryId: \"sent\",\n      date: (new Date()).toISOString(),\n      title: msgData.title,\n      body: msgData.body\n    }\n    this.messages.push(msgObj)\n    return await this.getResponsePromise(null)\n  }\n}\n\nexport default ApiService","const initialState = {\n  isLoading: false\n}\n\nexport default (state=initialState, action) => {\n  switch (action.type) {\n\n    case 'START_LOADING': \n      return {isLoading: true}\n\n    case 'STOP_LOADING':\n      return {isLoading: false}\n\n    default:\n      return state\n\n  }\n}","import React from 'react'\n\n// Material-UI\nimport 'typeface-roboto'\nimport { CssBaseline } from '@material-ui/core'\n// Material-UI components come with a default theme\n// To customize the theme we need to use ThemeProvider \n// to inject a new theme\nimport { ThemeProvider } from '@material-ui/styles'\nimport { lightTheme, darkTheme } from './theme'\n// Routing\nimport { HashRouter as Router } from 'react-router-dom'\n\nimport Layout from './components/Layout'\nimport Navigation from './views/Navigation'\nimport Content from './views/Content'\n\nimport ApiService from './fakeApi'\n\n// Redux stuff\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'  // already implements subscription for updates\nimport reducer from './reducer'\nconst store = createStore(reducer)\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      theme: lightTheme\n    }\n    this.toggleTheme = this.toggleTheme.bind(this)\n    this.API = new ApiService()\n  }\n\n  toggleTheme() {\n    this.setState({\n      theme: (this.state.theme.palette.type === \"light\") ? darkTheme : lightTheme\n    })\n  }\n\n  render() {\n    return (\n      <Provider store={store} >\n        <ThemeProvider theme={this.state.theme}>\n          <CssBaseline />\n          <Router>\n            <Layout \n              leftPane={<Navigation API={this.API} />}\n              rightPane={<Content API={this.API} />}\n              toggleTheme={this.toggleTheme}\n            />\n          </Router>\n        </ThemeProvider>\n      </Provider>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);"],"sourceRoot":""}